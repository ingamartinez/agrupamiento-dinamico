<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Agrupamiento Dinamico</title>

    <!-- Bootstrap -->
    <link href="assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/styles.css">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<nav class="navbar navbar-default navbar-static-top">
    <div class="container">
        <div class="navbar-header">

            <!-- Collapsed Hamburger -->
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#app-navbar-collapse">
                <span class="sr-only">Toggle Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Titulo</a>

        </div>

        <div class="collapse navbar-collapse" id="app-navbar-collapse">
            <!-- Left Side Of Navbar -->
            <ul class="nav navbar-nav">

                <li><a href="#">Lorem Ipsum</a></li>

            </ul>


        </div>
    </div>
</nav>

<div class="container container-fluid">
    <div class="row">
        <div class="col-lg-10 col-lg-offset-2">
            <div class="panel panel-default">
                <div class="panel-body">
                    <form action="#">
                        <div class="form-group">
                            <select class="form-control with-auto center-block" id="select-segmentos-ubicacion">
                                <option value="segmentos">Segmentos</option>
                                <option value="ubicacion-geografica">Ubicaci√≥n Geografica</option>
                            </select>
                            <canvas id="chart-segmentos" width="600" height="200"></canvas>
                        </div>
                    </form>
                </div>
            </div>

        </div>
    </div>
</div>



<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="assets/bootstrap/js/bootstrap.min.js"></script>
<script src="assets/chart/js/chart.js"></script>

<script>

    $(document).ready(function () {
        $.ajax({
            type: 'GET',
            url: 'disponibilidad',
            success: function (data) {
                console.log(data);
            }
        });

        Chart.defaults.global.responsive = true;

        var data_segmentos = {
            datasets: [
                {
                    label: 'First Dataset',
                    data: [
                        {
                            x: 20,
                            y: 30,
                            r: 15
                        }
                    ],
                    backgroundColor:"#FF6384",
                    hoverBackgroundColor: "#FF6384"
                },
                {
                    label: 'Second Dataset',
                    data: [
                        {
                            x: 40,
                            y: 10,
                            r: 10
                        }
                    ],
                    backgroundColor:"#DFC",
                    hoverBackgroundColor: "#DFC"
                }
            ]
        };

        var ctx = $('#chart-segmentos');

        var myBubbleChart = new Chart(ctx,{
            type: 'bubble',
            data: data_segmentos,
            options: {
                elements: {
                    points: {
                        borderWidth: 1,
                        borderColor: 'rgb(0, 0, 0)'
                    }
                }
            }
        });
//
//        $("#chart-segmentos").click(function(e) {
//            var activePoints = myBubbleChart.getDatasetAtEvent(e);;
//            console.log(activeBars);
//            if (activePoints.length > 0) {
//                var index = activePoints[0]["_index"];
//                console.log(index);
//            }
//            url(activePoints)
//        });
//
//        function url(label) {
//            for (var l in label){
//
//                console.log(l);
//            }
//            console.log(label);
//            bubbleChartData.datasets.forEach(function(dataset) {
//                dataset.data = dataset.data.map(function() {
//                    return {
//                        x: randomScalingFactor(),
//                        y: randomScalingFactor(),
//                        r: Math.abs(randomScalingFactor()) / 5,
//                    };
//                });
//            });
//        }
    });



</script>
</body>
</html>